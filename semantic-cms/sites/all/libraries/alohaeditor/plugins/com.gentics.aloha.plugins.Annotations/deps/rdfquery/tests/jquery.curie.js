(function(a){var b={xhv:"http://www.w3.org/1999/xhtml/vocab#",dc:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",cc:"http://creativecommons.org/ns#"};module("CURIE resolution");test("Two identical CURIEs",function(){var c=a("html").curie("dc:creator"),d=a("html").curie("dc:creator");ok(c===d,"should equal each other")});test("CURIE on element with declaration",function(){equals(a("html").curie("dc:creator"),b.dc+"creator")});test("CURIE on child element of declaration",function(){equals(a("body").curie("dc:creator"),
b.dc+"creator")});test("CURIE on descendant element of declaration",function(){equals(a("#main").curie("dc:creator"),b.dc+"creator")});test("CURIE on element with other ancestor declaration",function(){equals(a("body").curie("foaf:img"),b.foaf+"img")});test("CURIE on element without declaration for the prefix",function(){try{a("body").curie("lic:license");ok(false,"should give an error")}catch(c){ok(true,"should give an error")}});test("CURIE with no prefix that is in the default set of prefix-less CURIEs for XHTML",
function(){equals(a("html").curie("alternate"),b.xhv+"alternate")});test("CURIE with no prefix that is not in the default set of prefix-less CURIEs for XHTML",function(){try{a("html").curie("foobar");ok(false,"should give an error")}catch(c){ok(true,"should give an error")}});test("CURIE with no prefix and no colon when there is a default namespace",function(){var c={reserved:[],reservedNamespace:null,defaultNamespace:"http://www.example.org/"};try{equals(a("html").curie("foobar",c),"http://www.example.org/foobar")}catch(d){ok(false,
"should not give an error")}});test("CURIE with no prefix and no colon when there is no default namespace",function(){var c={reserved:[],reservedNamespace:null,defaultNamespace:null};try{a("html").curie("foobar",c);ok(false,"should give an error")}catch(d){ok(true,"should give an error")}});test("CURIE with no prefix (but with a colon) when there is a reserved namespace",function(){var c={reserved:[],reservedNamespace:"http://www.example.org/",defaultNamespace:null};try{equals(a("html").curie(":foobar",
c),"http://www.example.org/foobar")}catch(d){ok(false,"should not give an error")}});test("CURIE with no prefix (but with a colon) when there is no reserved namespace",function(){var c={reserved:[],reservedNamespace:null,defaultNamespace:null};try{a("html").curie("foobar",c);ok(false,"should give an error")}catch(d){ok(true,"should give an error")}});module("Safe CURIE resolution");test("CURIE in square brackets",function(){equals(a("body").safeCurie("[dc:creator]"),b.dc+"creator")});test("absolute URI",
function(){equals(a("body").safeCurie(b.dc+"creator"),b.dc+"creator")});module("Generating CURIEs");test("creating a CURIE from an appropriate namespace declaration",function(){equals(a("body").createCurie(b.foaf+"img"),"foaf:img")});test("creating a CURIE in the reserved namespace",function(){equals(a("body").createCurie(b.xhv+"foo"),":foo")});test("creating a CURIE in the reserved namespace with a reserved local name",function(){equals(a("body").createCurie(b.xhv+"cite"),"cite")})})(jQuery);
