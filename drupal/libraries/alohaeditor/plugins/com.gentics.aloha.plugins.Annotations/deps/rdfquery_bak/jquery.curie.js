/*
 MIT license (MIT-LICENSE.txt)
 @version 1.0
 @requires jquery.uri.js
 @requires jquery.xmlns.js
*/
(function(a){a.curie=function(b,d){var c=a.extend({},a.curie.defaults,d||{}),f=/^(([^:]*):)?(.+)$/.exec(b),e=f[2];f=f[3];var g=c.namespaces[e];if(/^:.+/.test(b))if(c.reservedNamespace===undefined||c.reservedNamespace===null)throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+b;else g=c.reservedNamespace;else if(e){if(g===undefined)throw"Malformed CURIE: No namespace binding for "+e+" in CURIE "+b;}else{if(c.charcase==="lower")b=b.toLowerCase();else if(c.charcase==="upper")b=
b.toUpperCase();if(c.reserved.length&&a.inArray(b,c.reserved)>=0){g=c.reservedNamespace;f=b}else if(c.defaultNamespace===undefined||c.defaultNamespace===null)throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+b;else g=c.defaultNamespace}return a.uri(g+f)};a.curie.defaults={namespaces:{},reserved:[],reservedNamespace:undefined,defaultNamespace:undefined,charcase:"preserve"};a.safeCurie=function(b,d){var c=/^\[([^\]]+)\]$/.exec(b);return c?a.curie(c[1],d):a.uri(b)};a.createCurie=
function(b,d){var c=a.extend({},a.curie.defaults,d||{}),f=c.namespaces,e;b=a.uri(b).toString();if(c.reservedNamespace!==undefined&&b.substring(0,c.reservedNamespace.toString().length)===c.reservedNamespace.toString()){e=b.substring(c.reservedNamespace.toString().length);if(a.inArray(e,c.reserved)===-1)e=":"+e}else a.each(f,function(g,h){if(b.substring(0,h.toString().length)===h.toString()){e=g+":"+b.substring(h.toString().length);return null}});if(e===undefined)throw"No Namespace Binding: There's no appropriate namespace binding for generating a CURIE from "+
b;else return e};a.fn.curie=function(b,d){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},d||{});return a.curie(b,c)};a.fn.safeCurie=function(b,d){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},d||{});return a.safeCurie(b,c)};a.fn.createCurie=function(b,d){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},d||{});return a.createCurie(b,c)};a.fn.curie.defaults={reserved:["alternate","appendix","bookmark","cite","chapter","contents","copyright","first",
"glossary","help","icon","index","last","license","meta","next","p3pv1","prev","role","section","stylesheet","subsection","start","top","up"],reservedNamespace:"http://www.w3.org/1999/xhtml/vocab#",defaultNamespace:undefined,charcase:"lower"}})(jQuery);
