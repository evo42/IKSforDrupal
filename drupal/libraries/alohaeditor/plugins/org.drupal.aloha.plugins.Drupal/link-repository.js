if(!GENTICS.Aloha.Repositories)GENTICS.Aloha.Repositories={};GENTICS.Aloha.Repositories.drupal=new GENTICS.Aloha.Repository("org.drupal.aloha.repositories.drupal");GENTICS.Aloha.Repositories.drupal.settings.url="http://localhost/drupal7/drupal-7.0/";GENTICS.Aloha.Repositories.drupal.settings.weight=0.35;
GENTICS.Aloha.Repositories.drupal.init=function(){if(this.settings.weight+0.15>1)this.settings.weight=1.85;this.drupalRepositoryURL=GENTICS.Aloha.Repositories.drupal.settings.url+"aloha-lookup.php?lookup=";this.repositoryName="drupal/local"};
GENTICS.Aloha.Repositories.drupal.query=function(d,e){var c=this;if(d.objectTypeFilter&&jQuery.inArray("website",d.objectTypeFilter)==-1)e.call(this,[]);else{var f=[];f=d.queryString.split(" ");d.queryString&&f.length==0?e.call(c,[]):jQuery.ajax({type:"GET",dataType:"json",url:c.drupalRepositoryURL+f.join("+"),success:function(a){var g=[];if(a.length){for(var b=0;b<a.length;b++)typeof a[b]!="function"&&g.push(new GENTICS.Aloha.Repository.Document({id:a[b].u,name:a[b].d,repositoryId:c.repositoryId,
type:"website",url:a[b].u,weight:c.settings.weight+0.14}));e.call(c,g)}}})}};
